Реализация игры "Жизнь"

Игра «Жизнь» (англ. Game of Life) — клеточный автомат, придуманный английским математиком Джоном Конвеем в 1970 году. Это игра без игроков, в которой человек создаёт начальное состояние, а потом лишь наблюдает за её развитием. В игре можно создать процессы с полнотой по Тьюрингу, что позволяет реализовать любую машину Тьюринга.

Правила:

Место действия игры — размеченная на клетки плоскость, которая может быть безграничной, ограниченной или замкнутой.

Каждая клетка на этой поверхности имеет восемь соседей, окружающих её, и может находиться в двух состояниях:

быть «живой» (заполненной)

быть «мёртвой» (пустой)

Распределение живых клеток в начале игры называется первым поколением. Каждое следующее поколение рассчитывается на основе предыдущего по таким правилам:

В пустой (мёртвой) клетке, с которой соседствуют три живые клетки, зарождается жизнь.

Если у живой клетки есть две или три живые соседки, то эта клетка продолжает жить. В противном случае (если живых соседей меньше двух или больше трёх) клетка умирает («от одиночества» или «от перенаселённости»).

Игра прекращается, если:

на поле не останется ни одной «живой» клетки;

конфигурация на очередном шаге в точности (без сдвигов и поворотов) повторит себя же на одном из более ранних шагов (складывается периодическая конфигурация);

при очередном шаге ни одна из клеток не меняет своего состояния (частный случай предыдущего правила, складывается стабильная конфигурация).

Модификации:

Добавлен новый тип клетки "хищник", который подчиняется правилам:

В самом начале игры появляется с шансом P1.

Каждый ход случайно смещается на одну клетку.

Если попадает на живую, "съедает" и "делится" с шансом P2.

Если ничего не ест в течение N ходов, то погибает.

Для хищника реализован алгоритм поиска пути до ближайшей еды.

Новый тип клетки - "препятствие", который подчиняется правилам:

Живая клетка не может попасть на место препятствия, хищник также.

Шанс появления препятствия 40%.

Реализовано случайное появление живых клеток на месте мертвых (шанс 1%).

Реализована система случайных парных "порталов":

На игровом поле случайно размещаются до 10 парных порталов.

Каждый портал представляет из себя символ портала и номер портала (то есть занимает 2 клетки), например, @0 @0, @1 @1.

Портал постоянный, не перемещается, ни один тип клеток не может появиться на месте клеток портала.

Если хищник при очередном шаге делает ход, который попадает на одну из клеток портала, то на следующем ходу хищник телепортируется ко второму порталу (на случайную клетку, прилегающую ко второму порталу).

Реализован новый тип организма - "змейка"

У змеи есть голова, именно она решает куда двигаться, хвост следует за ней.

Когда змейка ест еду, её хвост с некоторой вероятностью P1 (пусть 50%, можно любую указать), удлиняется на 1 единицу.

Если змейка не ест N1 ходов, то её хвост укорачивается на 1 клетку. Если же у змеи в момент голода нет хвоста, она погибает (как хищник).

Змея не может есть сама себя.

Для простоты можно считать, что змея только одна, но по желанию можно настроить взаимодействие нескольких змей.

Добавлена возможность сохранения и загрузки игры из файла.

Условные обозначения для всех типов клеток:

# - alive - живая

. - dead - мертвая

* - predator - хищник

N - barrier - препятствие

@ - portal - портал

